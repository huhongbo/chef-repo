upgrading to chef server 11.X from  chef server 0.10.x参考: http://docs.opscode.com/upgrade_server.html1.准备环境  需要用到 knife plugins  * knife download  * knife list  * knife upload  安装knife最新插件, git://github.com/jkeiser/knife-essentials.git    gem install knife-essentials    2.Chef0.10环境下导出配置  1）新建配置导入文件夹    mkdir ~/transfer  2) 新建knife-chef10.rb文件    cd ~/transfer	mkdir .chef	vi .chef/knife-chef10.rb		内容:	transfer_repo = File.expand_path('..', File.dirname(__FILE__))	chef_server_url "http://127.0.0.1:4000"	node_name 'chef-webui'	client_key "~/transfer/.chef/chef-webui.pem"	repo_mode 'everything'	versioned_cookbooks true	chef_repo_path transfer_repo		*chef-webui.pem 拷贝	cp /etc/cehf/webui.pem ~/transfer/.chef/chef-webui.pem   3) 测试配置是否成功    执行  knife list /clients   4) 导出chef数据    执行 knife download  -c .chef/knife-chef10.rb /	3.Chef11环境下数据导入	1）配置knife环境		新建文件夹 ~/transfer   	 	mkdir ~/transfer	2) 新建knife.rb文件	    cd ~/transfer	  	mkdir .chef	  	vi .chef/knife.rb				内容:		transfer_repo = File.expand_path('..', File.dirname(__FILE__))		chef_server_url "https://127.0.0.1"		node_name 'admin'		client_key "~/transfer/.chef/admin.pem"		repo_mode 'everything'		versioned_cookbooks true		chef_repo_path transfer_repo				*admin.pem 拷贝*		cp /etc/chef-server/admin.pem .chef/admin.pem	3) 测试配置是否成功		执行  knife list /users			4) 导入数据		i> 修改导出数据中的 clients/chef-validator.json 文件, 新增 "validator": true 值		例如:		{		  "name": "chef-validator",		  "public_key": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApCIg5VK/U3dInRlnO5fK\nm3YAuR371uu1WGb+9cpWYABhUgIzc6xCRNKwcONYNUIbS22kp4IntblqD9InepNv\nmMo5vmA09/jPIV7s34a5AO9uQ7ZA1vdEQJGtDwApQ1oxu2May4Fdn/uBtgI44zOp\nu+Z13SNUaALbqZztrnBZVpWhXMI2fO9zX9comuFl6D1geh9N3OM4x2nAImqz9erU\ncvXwkP/BzWiLRD9Ok3cfoODvz+1HAbqFCSA08kDzoP+KBX8hDPpYtaKnHB1+Sr3Z\nXlbyslBWFJZ6i5kLAAuOyCgjd9RMxKJ01ByjzqcMonJQ+JHkbgE7q3bsuOopi2Xz\nSwIDAQAB\n-----END PUBLIC KEY-----\n",		  "_rev": "1-518603b453818d10130ada923047206e",		  "validator": true		}		ii> 导入数据		单独目录导入:			$ knife upload /clients			$ knife upload /data_bags		导入所有项目			$ knife upload /										